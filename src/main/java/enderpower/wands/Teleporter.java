package enderpower.wands;

import enderpower.magic.Magic;
import net.minecraft.block.material.Material;
import net.minecraft.client.Minecraft;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.util.MovingObjectPosition;
import net.minecraft.util.MovingObjectPosition.MovingObjectType;
import net.minecraft.world.World;

public class Teleporter extends Item {
	public Teleporter(){
		super();
		setCreativeTab(CreativeTabs.tabTools);
		
	}
	
	
	
	@Override
	public ItemStack onItemRightClick(ItemStack itemStack, World world, EntityPlayer player){
	
		MovingObjectPosition objectMouseOver;
        Minecraft mc = Minecraft.getMinecraft();

        objectMouseOver = mc.thePlayer.rayTrace(300, 1);

        if (objectMouseOver != null && objectMouseOver.typeOfHit == MovingObjectType.BLOCK && Magic.get(world).useMana(30, 0, 0, 0, 200, 0)) {

        	

           int i = objectMouseOver.blockX;
           int j = objectMouseOver.blockY;
           int k = objectMouseOver.blockZ;
           if(world.getBlock(i, j, k) == Blocks.air || world.getBlock(i, j, k) == Blocks.water || world.getBlock(i, j, k) == Blocks.tripwire || world.getBlock(i, j, k) == Blocks.lava || world.getBlock(i, j, k) == Blocks.flowing_lava || world.getBlock(i, j, k) == Blocks.flowing_water || world.getBlock(i, j, k) == Blocks.tallgrass || world.getBlock(i, j, k) == Blocks.double_plant || world.getBlock(i, j, k) == Blocks.red_mushroom_block || world.getBlock(i, j, k) == Blocks.redstone_torch || world.getBlock(i, j, k) == Blocks.reeds || world.getBlock(i, j, k) == Blocks.red_flower || world.getBlock(i, j, k) == Blocks.red_mushroom || world.getBlock(i, j, k) == Blocks.redstone_wire || world.getBlock(i, j, k) == Blocks.activator_rail || world.getBlock(i, j, k) == Blocks.bed || world.getBlock(i, j, k) == Blocks.brewing_stand || world.getBlock(i, j, k) == Blocks.brown_mushroom || world.getBlock(i, j, k) == Blocks.cake || world.getBlock(i, j, k) == Blocks.carpet || world.getBlock(i, j, k) == Blocks.carrots || world.getBlock(i, j, k) == Blocks.cocoa || world.getBlock(i, j, k) == Blocks.detector_rail || world.getBlock(i, j, k) == Blocks.dragon_egg || world.getBlock(i, j, k) == Blocks.daylight_detector || world.getBlock(i, j, k) == Blocks.deadbush || world.getBlock(i, j, k) == Blocks.double_plant || world.getBlock(i, j, k) == Blocks.end_portal || world.getBlock(i, j, k) == Blocks.fire || world.getBlock(i, j, k) == Blocks.golden_rail || world.getBlock(i, j, k) == Blocks.heavy_weighted_pressure_plate || world.getBlock(i, j, k) == Blocks.ladder || world.getBlock(i, j, k) == Blocks.light_weighted_pressure_plate || world.getBlock(i, j, k) == Blocks.melon_stem || world.getBlock(i, j, k) == Blocks.nether_wart || world.getBlock(i, j, k) == Blocks.potatoes || world.getBlock(i, j, k) == Blocks.pumpkin_stem || world.getBlock(i, j, k) == Blocks.portal || world.getBlock(i, j, k) == Blocks.powered_comparator || world.getBlock(i, j, k) == Blocks.powered_repeater || world.getBlock(i, j, k) == Blocks.sapling || world.getBlock(i, j, k) == Blocks.snow_layer || world.getBlock(i, j, k) == Blocks.standing_sign || world.getBlock(i, j, k) == Blocks.stone_button || world.getBlock(i, j, k) == Blocks.stone_pressure_plate || world.getBlock(i, j, k) == Blocks.stone_slab || world.getBlock(i, j, k) == Blocks.torch || world.getBlock(i, j, k) == Blocks.trapdoor || world.getBlock(i, j, k) == Blocks.tripwire_hook || world.getBlock(i, j, k) == Blocks.unlit_redstone_torch || world.getBlock(i, j, k) == Blocks.unpowered_comparator || world.getBlock(i, j, k) == Blocks.unpowered_repeater || world.getBlock(i, j, k) == Blocks.vine || world.getBlock(i, j, k) == Blocks.wall_sign || world.getBlock(i, j, k) == Blocks.waterlily || world.getBlock(i, j, k) == Blocks.web || world.getBlock(i, j, k) == Blocks.wheat || world.getBlock(i, j, k) == Blocks.wooden_button || world.getBlock(i, j, k) == Blocks.wooden_pressure_plate || world.getBlock(i, j, k) == Blocks.wooden_slab || world.getBlock(i, j, k) == Blocks.yellow_flower){
        	   if(world.getBlock(i, j + 1, k) == Blocks.air || world.getBlock(i, j + 1, k) == Blocks.water || world.getBlock(i, j + 1, k) == Blocks.tripwire || world.getBlock(i, j + 1, k) == Blocks.lava || world.getBlock(i, j + 1, k) == Blocks.flowing_lava || world.getBlock(i, j + 1, k) == Blocks.flowing_water || world.getBlock(i, j + 1, k) == Blocks.tallgrass || world.getBlock(i, j + 1, k) == Blocks.double_plant || world.getBlock(i, j + 1, k) == Blocks.red_mushroom_block || world.getBlock(i, j + 1, k) == Blocks.redstone_torch || world.getBlock(i, j + 1, k) == Blocks.reeds || world.getBlock(i, j + 1, k) == Blocks.red_flower || world.getBlock(i, j + 1, k) == Blocks.red_mushroom || world.getBlock(i, j + 1, k) == Blocks.redstone_wire || world.getBlock(i, j + 1, k) == Blocks.activator_rail || world.getBlock(i, j + 1, k) == Blocks.bed || world.getBlock(i, j + 1, k) == Blocks.brewing_stand || world.getBlock(i, j + 1, k) == Blocks.brown_mushroom || world.getBlock(i, j + 1, k) == Blocks.cake || world.getBlock(i, j + 1, k) == Blocks.carpet || world.getBlock(i, j + 1, k) == Blocks.carrots || world.getBlock(i, j + 1, k) == Blocks.cocoa || world.getBlock(i, j + 1, k) == Blocks.detector_rail || world.getBlock(i, j + 1, k) == Blocks.dragon_egg || world.getBlock(i, j + 1, k) == Blocks.daylight_detector || world.getBlock(i, j + 1, k) == Blocks.deadbush || world.getBlock(i, j + 1, k) == Blocks.double_plant || world.getBlock(i, j + 1, k) == Blocks.end_portal || world.getBlock(i, j + 1, k) == Blocks.fire || world.getBlock(i, j + 1, k) == Blocks.golden_rail || world.getBlock(i, j + 1, k) == Blocks.heavy_weighted_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.ladder || world.getBlock(i, j + 1, k) == Blocks.light_weighted_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.melon_stem || world.getBlock(i, j + 1, k) == Blocks.nether_wart || world.getBlock(i, j + 1, k) == Blocks.potatoes || world.getBlock(i, j + 1, k) == Blocks.pumpkin_stem || world.getBlock(i, j + 1, k) == Blocks.portal || world.getBlock(i, j + 1, k) == Blocks.powered_comparator || world.getBlock(i, j + 1, k) == Blocks.powered_repeater || world.getBlock(i, j + 1, k) == Blocks.sapling || world.getBlock(i, j + 1, k) == Blocks.snow_layer || world.getBlock(i, j + 1, k) == Blocks.standing_sign || world.getBlock(i, j + 1, k) == Blocks.stone_button || world.getBlock(i, j + 1, k) == Blocks.stone_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.stone_slab || world.getBlock(i, j + 1, k) == Blocks.torch || world.getBlock(i, j + 1, k) == Blocks.trapdoor || world.getBlock(i, j + 1, k) == Blocks.tripwire_hook || world.getBlock(i, j + 1, k) == Blocks.unlit_redstone_torch || world.getBlock(i, j + 1, k) == Blocks.unpowered_comparator || world.getBlock(i, j + 1, k) == Blocks.unpowered_repeater || world.getBlock(i, j + 1, k) == Blocks.vine || world.getBlock(i, j + 1, k) == Blocks.wall_sign || world.getBlock(i, j + 1, k) == Blocks.waterlily || world.getBlock(i, j + 1, k) == Blocks.web || world.getBlock(i, j + 1, k) == Blocks.wheat || world.getBlock(i, j + 1, k) == Blocks.wooden_button || world.getBlock(i, j + 1, k) == Blocks.wooden_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.wooden_slab || world.getBlock(i, j + 1, k) == Blocks.yellow_flower){
        	   player.setPositionAndUpdate(i, j, k);
           }
           }
           else if(world.getBlock(i, j + 1, k) == Blocks.air || world.getBlock(i, j + 1, k) == Blocks.water || world.getBlock(i, j + 1, k) == Blocks.tripwire || world.getBlock(i, j + 1, k) == Blocks.lava || world.getBlock(i, j + 1, k) == Blocks.flowing_lava || world.getBlock(i, j + 1, k) == Blocks.flowing_water || world.getBlock(i, j + 1, k) == Blocks.tallgrass || world.getBlock(i, j + 1, k) == Blocks.double_plant || world.getBlock(i, j + 1, k) == Blocks.red_mushroom_block || world.getBlock(i, j + 1, k) == Blocks.redstone_torch || world.getBlock(i, j + 1, k) == Blocks.reeds || world.getBlock(i, j + 1, k) == Blocks.red_flower || world.getBlock(i, j + 1, k) == Blocks.red_mushroom || world.getBlock(i, j + 1, k) == Blocks.redstone_wire || world.getBlock(i, j + 1, k) == Blocks.activator_rail || world.getBlock(i, j + 1, k) == Blocks.bed || world.getBlock(i, j + 1, k) == Blocks.brewing_stand || world.getBlock(i, j + 1, k) == Blocks.brown_mushroom || world.getBlock(i, j + 1, k) == Blocks.cake || world.getBlock(i, j + 1, k) == Blocks.carpet || world.getBlock(i, j + 1, k) == Blocks.carrots || world.getBlock(i, j + 1, k) == Blocks.cocoa || world.getBlock(i, j + 1, k) == Blocks.detector_rail || world.getBlock(i, j + 1, k) == Blocks.dragon_egg || world.getBlock(i, j + 1, k) == Blocks.daylight_detector || world.getBlock(i, j + 1, k) == Blocks.deadbush || world.getBlock(i, j + 1, k) == Blocks.double_plant || world.getBlock(i, j + 1, k) == Blocks.end_portal || world.getBlock(i, j + 1, k) == Blocks.fire || world.getBlock(i, j + 1, k) == Blocks.golden_rail || world.getBlock(i, j + 1, k) == Blocks.heavy_weighted_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.ladder || world.getBlock(i, j + 1, k) == Blocks.light_weighted_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.melon_stem || world.getBlock(i, j + 1, k) == Blocks.nether_wart || world.getBlock(i, j + 1, k) == Blocks.potatoes || world.getBlock(i, j + 1, k) == Blocks.pumpkin_stem || world.getBlock(i, j + 1, k) == Blocks.portal || world.getBlock(i, j + 1, k) == Blocks.powered_comparator || world.getBlock(i, j + 1, k) == Blocks.powered_repeater || world.getBlock(i, j + 1, k) == Blocks.sapling || world.getBlock(i, j + 1, k) == Blocks.snow_layer || world.getBlock(i, j + 1, k) == Blocks.standing_sign || world.getBlock(i, j + 1, k) == Blocks.stone_button || world.getBlock(i, j + 1, k) == Blocks.stone_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.stone_slab || world.getBlock(i, j + 1, k) == Blocks.torch || world.getBlock(i, j + 1, k) == Blocks.trapdoor || world.getBlock(i, j + 1, k) == Blocks.tripwire_hook || world.getBlock(i, j + 1, k) == Blocks.unlit_redstone_torch || world.getBlock(i, j + 1, k) == Blocks.unpowered_comparator || world.getBlock(i, j + 1, k) == Blocks.unpowered_repeater || world.getBlock(i, j + 1, k) == Blocks.vine || world.getBlock(i, j + 1, k) == Blocks.wall_sign || world.getBlock(i, j + 1, k) == Blocks.waterlily || world.getBlock(i, j + 1, k) == Blocks.web || world.getBlock(i, j + 1, k) == Blocks.wheat || world.getBlock(i, j + 1, k) == Blocks.wooden_button || world.getBlock(i, j + 1, k) == Blocks.wooden_pressure_plate || world.getBlock(i, j + 1, k) == Blocks.wooden_slab || world.getBlock(i, j + 1, k) == Blocks.yellow_flower){
        	   if(world.getBlock(i, j + 2, k) == Blocks.air || world.getBlock(i, j + 2, k) == Blocks.water || world.getBlock(i, j + 2, k) == Blocks.tripwire || world.getBlock(i, j + 2, k) == Blocks.lava || world.getBlock(i, j + 2, k) == Blocks.flowing_lava || world.getBlock(i, j + 2, k) == Blocks.flowing_water || world.getBlock(i, j + 2, k) == Blocks.tallgrass || world.getBlock(i, j + 2, k) == Blocks.double_plant || world.getBlock(i, j + 2, k) == Blocks.red_mushroom_block || world.getBlock(i, j + 2, k) == Blocks.redstone_torch || world.getBlock(i, j + 2, k) == Blocks.reeds || world.getBlock(i, j + 2, k) == Blocks.red_flower || world.getBlock(i, j + 2, k) == Blocks.red_mushroom || world.getBlock(i, j + 2, k) == Blocks.redstone_wire || world.getBlock(i, j + 2, k) == Blocks.activator_rail || world.getBlock(i, j + 2, k) == Blocks.bed || world.getBlock(i, j + 2, k) == Blocks.brewing_stand || world.getBlock(i, j + 2, k) == Blocks.brown_mushroom || world.getBlock(i, j + 2, k) == Blocks.cake || world.getBlock(i, j + 2, k) == Blocks.carpet || world.getBlock(i, j + 2, k) == Blocks.carrots || world.getBlock(i, j + 2, k) == Blocks.cocoa || world.getBlock(i, j + 2, k) == Blocks.detector_rail || world.getBlock(i, j + 2, k) == Blocks.dragon_egg || world.getBlock(i, j + 2, k) == Blocks.daylight_detector || world.getBlock(i, j + 2, k) == Blocks.deadbush || world.getBlock(i, j + 2, k) == Blocks.double_plant || world.getBlock(i, j + 2, k) == Blocks.end_portal || world.getBlock(i, j + 2, k) == Blocks.fire || world.getBlock(i, j + 2, k) == Blocks.golden_rail || world.getBlock(i, j + 2, k) == Blocks.heavy_weighted_pressure_plate || world.getBlock(i, j + 2, k) == Blocks.ladder || world.getBlock(i, j + 2, k) == Blocks.light_weighted_pressure_plate || world.getBlock(i, j + 2, k) == Blocks.melon_stem || world.getBlock(i, j + 2, k) == Blocks.nether_wart || world.getBlock(i, j + 2, k) == Blocks.potatoes || world.getBlock(i, j + 2, k) == Blocks.pumpkin_stem || world.getBlock(i, j + 2, k) == Blocks.portal || world.getBlock(i, j + 2, k) == Blocks.powered_comparator || world.getBlock(i, j + 2, k) == Blocks.powered_repeater || world.getBlock(i, j + 2, k) == Blocks.sapling || world.getBlock(i, j + 2, k) == Blocks.snow_layer || world.getBlock(i, j + 2, k) == Blocks.standing_sign || world.getBlock(i, j + 2, k) == Blocks.stone_button || world.getBlock(i, j + 2, k) == Blocks.stone_pressure_plate || world.getBlock(i, j + 2, k) == Blocks.stone_slab || world.getBlock(i, j + 2, k) == Blocks.torch || world.getBlock(i, j + 2, k) == Blocks.trapdoor || world.getBlock(i, j + 2, k) == Blocks.tripwire_hook || world.getBlock(i, j + 2, k) == Blocks.unlit_redstone_torch || world.getBlock(i, j + 2, k) == Blocks.unpowered_comparator || world.getBlock(i, j + 2, k) == Blocks.unpowered_repeater || world.getBlock(i, j + 2, k) == Blocks.vine || world.getBlock(i, j + 2, k) == Blocks.wall_sign || world.getBlock(i, j + 2, k) == Blocks.waterlily || world.getBlock(i, j + 2, k) == Blocks.web || world.getBlock(i, j + 2, k) == Blocks.wheat || world.getBlock(i, j + 2, k) == Blocks.wooden_button || world.getBlock(i, j + 2, k) == Blocks.wooden_pressure_plate || world.getBlock(i, j + 2, k) == Blocks.wooden_slab || world.getBlock(i, j + 2, k) == Blocks.yellow_flower){
{
        	   player.setPositionAndUpdate(i, j + 1, k);
        	   
        	   }
           }
        }
           else{
        	   Magic.get(world).editMana(30, 0, 0, 0, 200, 0);
           }
        }   
	
		return itemStack;
	}

}
